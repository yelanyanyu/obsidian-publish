---
{"dg-publish":true,"permalink":"/02-pages/具有快表的地址变换机构/","tags":["personal/blog","os"]}
---

该地址的核心器件是[[02-pages/快表\|快表]]。引入快表后，地址变换的过程就变为了：
 1. CPU给出逻辑地址，由某个硬件算得页号、页内偏移量，将页号与快表中的所有页号进行比较；
 2. 如果找到匹配的页号，说明要访问的页表项在快表中有**副本**，则**直接从中取出**该页对应的内存块号，再将内存块号与页内偏移量**拼接形成物理地址**，最后，访问该物理地址对应的内存单元。因此，若快表命中，则访问某个逻辑地址仅需一次访存即可；
 3. 如果没有找到匹配的页号，则需要访问内存中的页表，找到对应页表项，得到页面存放的内存块号，再将内存块号与页内偏移量拼接形成物理地址，最后，访问该物理地址对应的内存单元。因此，若快表未命中，则访问某个逻辑地址需要两次访存（注意：在找到页表项后，应同时将其存入快表，以便后面可能的再次访问。但若快表已满，则必须按照一定的算法对旧的页表项进行替换）；
![image.png](https://yelanyanyu-img-bed.oss-cn-hangzhou.aliyuncs.com/img/blog/2024/09/20240913181724.png)
