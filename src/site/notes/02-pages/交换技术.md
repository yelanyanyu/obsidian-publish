---
{"dg-publish":true,"permalink":"/02-pages/交换技术/","tags":["personal/blog","os"]}
---

交换（对换）技术的设计思想：内存空间紧张时，系统将内存中某些进程暂时换出外存，把外存中某些已具备运行条件的进程换入内存（进程在内存与磁盘间动态调度）。

- 应该在磁盘的什么位置保存被换出的进程？
	- 具有对换功能的操作系统中，通常把磁盘空间分为**文件区**和**对换区**两部分。**文件区**主要用于存放文件，主要**追求存储空间的利用率**，因此对文件区空间的管理**采用离散分配方式**；
	- 对换区空间只占磁盘空间的小部分，被换出的进程数据就存放在对换区。由于对换的速度直接影响到系统的整体速度，因此对换区空间的管理主要**追求换入换出速度**，因此通常对换区采用连续分配方式（学过文件管理章节后即可理解）。总之，对换区的 I/O 速度比文件区的更快。
- 什么时候应该交换？
	- 交换通常在许多进程运行且内存吃紧时进行，而系统负荷降低就暂停。例如：在发现许多进程运行时经常发生缺页，就说明内存紧张，此时可以换出一些进程；如果缺页率明显下降，就可以暂停换出。
- 应该换出哪些进程？
	- 可优先换出阻塞进程：可换出优先级低的进程；为了防止优先级低的进程在被调入内存后很快又被换出，有的系统还会考虑进程在内存的驻留时间。


```ad-tip
title: 注意
换出进程并不是全部换出，进程的PCB仍然在内存中常驻。
```
