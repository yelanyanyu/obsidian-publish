---
{"dg-publish":true,"permalink":"/01-计算机笔记/01-竞赛/01-刷题/acwing/05-蓝桥杯/025-1231-航班时间/","tags":["personal/blog","algorithm/输入输出","algorithm/日期问题"]}
---


# 题目描述
## 关系

## 内容
小 $h$ 前往美国参加了蓝桥杯国际赛。

小 $h$ 的女朋友发现小 $h$ 上午十点出发，上午十二点到达美国，于是感叹到“现在飞机飞得真快，两小时就能到美国了”。

小 $h$ 对超音速飞行感到十分恐惧。

仔细观察后发现飞机的起降时间都是当地时间。

由于北京和美国东部有 $12$ 小时时差，故飞机总共需要 $14$ 小时的飞行时间。

不久后小 $h$ 的女朋友去中东交换。

小 $h$ 并不知道中东与北京的时差。

但是小 $h$ 得到了女朋友来回航班的起降时间。

小 $h$ 想知道女朋友的航班飞行时间是多少。

对于一个可能跨时区的航班，给定来回程的起降时间。

假设飞机来回飞行时间相同，求飞机的飞行时间。

#### 输入格式

一个输入包含多组数据。

输入第一行为一个正整数 $T$，表示输入数据组数。

每组数据包含两行，第一行为去程的起降时间，第二行为回程的起降时间。

起降时间的格式如下:

1.  h 1: m 1: s 1 h 2: m 2: s 2
2.  h 1: m 1: s 1 h 3: m 3: s 3 (+1)
3.  h 1: m 1: s 1 h 4: m 4: s 4 (+2)

第一种格式表示该航班在**当地**时间 h 1 时 m 1 分 s 1 秒起飞，在**当地**时间**当日**h 2 时 m 2 分 s2秒降落。

第二种格式表示该航班在**当地**时间 h 1 时 m 1 分 s 1 秒起飞，在**当地**时间**次日**h 2 时 m 2 分 s2秒降落。

第三种格式表示该航班在**当地**时间 h 1 时 m 1 分 s 1 秒起飞，在**当地**时间**第三日**h 2 时 m 2 分 s2秒降落。

#### 输出格式

对于每一组数据输出一行一个时间 hh:mm: ss，表示飞行时间为 hh 小时 mm 分 ss 秒。

注意，当时间为一位数时，要补齐前导零，如三小时四分五秒应写为 03:04 : 05。

#### 数据范围

保证输入时间合法（$0 \le h \le 23, 0 \le m,s \le 59$），飞行时间不超过 24 小时。

#### 输入样例：

```
3
17:48:19 21:57:24
11:05:18 15:14:23
17:21:07 00:31:46 (+1)
23:02:41 16:13:20 (+1)
10:19:19 20:41:24
22:19:04 16:41:09 (+1)
```

#### 输出样例：

```
04:09:05
12:10:39
14:22:05
```
# 问题分析
## 最初思路

## 思路分析
绝对飞行时间 = （去）A 地 - B 地 + 时差
绝对飞行时间 = （回）B 地 - A 地 - 时差
2 * 绝对飞行时间 =（去） A 地 - B 地 +（回）B 地 - A 地

需要注意，这里时差并不是全部都是加上的，若去时是加上时差，那么归时时差就应该是减去。

但是日期的计算比较复杂：
 1. 将所有时间转化成距离当天 00:00 : 00 的秒数；
 2. 再将这个时间转化为固定格式；

```ad-note
这道题主要的知识点是输入输出，如果将题目给定的数据读入，如果格式化输出这些数据。
```


## 执行流程设计

# 总结
1. 格式化时间转化为秒数的方法；
2. 秒数转化为格式化时间的方法；
# 代码实现
```c++
#include <bits/stdc++.h>
using namespace std;

int t;

int get_s(int h, int m, int s) {
    return h * 3600 + m * 60 + s;
}

int get_time() 
{
    string line;
    getline(cin, line);
    if (line.back() != ')') line += " (+0)";
    
    int h1, m1, s1, h2, m2, s2, d;
    sscanf(line.c_str(), "%d:%d:%d %d:%d:%d (+%d)", &h1, &m1, &s1, &h2, &m2, &s2, &d);
    
    return 24 * 3600 * d + get_s(h2, m2, s2) - get_s(h1, m1, s1);
}


int main()
{
    scanf("%d\n", &t);
    
    while (t--) {
        int time = (get_time() + get_time()) / 2;
        
        int hour = time / 3600, minute = time % 3600 / 60, second = time % 60;
        printf("%02d:%02d:%02d\n", hour, minute, second);
    }
    return 0;
}
```